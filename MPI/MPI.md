# Лабораторная работа №2

Код программы представлен в [файле](https://github.com/kStasya/Distributed_computing/blob/main/MPI/MPI.cpp).

## Простые задачи
 
### Задача №1.
<i>Реализовать программу, в которой каждый процессор печатает число процессов в группе и свой номер в ней.</i>

Результат работы программы при передаче сообщений первому процессу (идентификатор 0) от остальных процессов:

<img src="https://user-images.githubusercontent.com/102433741/231278019-46caebfc-7434-4574-bdc4-36e65497a5b8.png" alt="Результат решения задачи №1" width="300"/>



### Задача №2.
<i>Смоделировать последовательный обмен сообщениями между двумя процессами, замерить время на одну итерацию обмена.</i>

Результат работы программы для второй задачи:

<img src="https://user-images.githubusercontent.com/102433741/231279174-a2383b29-4dd5-4113-950b-97fef4cc817e.png" alt="Результат решения задачи №2" width="300"/>

### Задача №3.
<i>Реализовать при помощи посылки сообщений типа точка-точка следующие схемы коммуникации
процессов:
  
* передача данных по кольцу: "эстафетная палочка" (очередной процесс дожидается сообщения от
  предыдущего и потом посылает следующему) и "сдвиг" (одновременные посылка и прием сообщений);
  
* master-slave (все процессы общаются с одним);
  
* пересылка данных от каждого процесса каждому.
</i>

Результат работы программы для третьей задачи:

* "эстафетная палочка"

<img src="https://user-images.githubusercontent.com/102433741/231281926-38faa7f9-927d-4361-b4c7-e9039dddfa6e.png" alt="Задание №3. Эстафетная палочка" width="300">

* "сдвиг" 

<img src="https://user-images.githubusercontent.com/102433741/231282200-3ba4072a-1c55-4aa1-9b06-6ccd236e592d.png" alt="Задание №3. Сдвиг" width="300">

* "master-slave" 

<img src="https://user-images.githubusercontent.com/102433741/231282431-03fa0015-e433-4f2d-a8e4-634cdde369ba.png" alt="Задание №3. master-slave"  width="300">

Сообщения посылаются первому процессу (идентификатор 0) от остальных процессов.

* "каждый -> каждому"

<img src="https://user-images.githubusercontent.com/102433741/231282796-de835c5b-7a05-48f3-bbe4-4e10ea54c2fd.png" alt="Задание №3. Каждый -> каждому " width="300">

## Основная задача
### Задача №13. 

<i>С помощью метода Монте-Карло вычислите тройной интеграл:

  $$J=\iiint_V e^{-(x_1^2 + x_2^2 + x_3^2)} dxdydz $$$$
  
с погрешностью $\mu$, не превышающей $10^{-5}$, если область $V$ определена как шар:
$x_1^2 + x_2^2 + x_3^2 \le 1$.
</i>

Для метода Монте-Карло изначальное число взятых точек на отрезках $[0, 1]$ по каждой оси $N=500$. Сначала вычисляется интеграл для одного октанта, т.к. есть симметрия по координатным осям, затем вычисленное значение умножается на число октантов. 

С каждой итерацией, когда не удается достичь заданной точности, $N$ удваивается. Погрешность вычисляется как абсолютная разность между рассчитанными на текущей и прошлой итерациях значениями интегралов.
  
Тройной интеграл рассчитывается по формуле:
  
$$J=\iiint_V f(x, y, z) dxdydz = \frac{8 * V_{sphere} * \Sigma_{i=1}^n f(x_i, y_i, z_i)}{n},$$
  
где $n$ - число внутренних точек (т.е. лежащих в шаре) в первом октанте, $V_{sphere}=\frac{4}{3}\pi R^2$.
 
Результат работы программы при 2, 4 и 8 процессах:

<img src="https://user-images.githubusercontent.com/102433741/231412772-2518a633-0ec9-44a6-8a67-18547cf1565d.png" alt="Результат решения задания №13" width="800">


Лучшего результата по времени работы можно добиться при 8 процессах.
